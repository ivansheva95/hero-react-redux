{"ast":null,"code":"var _jsxFileName = \"/Users/ivan/Desktop/web/hero_admin_panel_template/src/components/heroesList/HeroesList.js\",\n    _s = $RefreshSig$();\n\nimport { useHttp } from '../../hooks/http.hook';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { heroesFetching, heroesFetched, heroesFetchingError } from '../../actions';\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner'; // Задача для этого компонента:\n// При клике на \"крестик\" идет удаление персонажа из общего состояния\n// Усложненная задача:\n// Удаление идет и с json файла при помощи метода DELETE\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HeroesList = () => {\n  _s();\n\n  const {\n    heroes,\n    heroesLoadingStatus\n  } = useSelector(state => state);\n  const dispatch = useDispatch();\n  const {\n    request\n  } = useHttp();\n  useEffect(() => {\n    dispatch(heroesFetching());\n    request(\"http://localhost:3001/heroes\").then(data => dispatch(heroesFetched(data))).catch(() => dispatch(heroesFetchingError())); // eslint-disable-next-line\n  }, []);\n  on;\n\n  if (heroesLoadingStatus === \"loading\") {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  } else if (heroesLoadingStatus === \"error\") {\n    return /*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"text-center mt-5\",\n      children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 16\n    }, this);\n  }\n\n  const renderHeroesList = arr => {\n    if (arr.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-center mt-5\",\n        children: \"\\u0413\\u0435\\u0440\\u043E\\u0435\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 20\n      }, this);\n    }\n\n    return arr.map(({\n      id,\n      ...props\n    }) => {\n      return /*#__PURE__*/_jsxDEV(HeroesListItem, { ...props\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    });\n  };\n\n  const elements = renderHeroesList(heroes);\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: elements\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HeroesList, \"eA8pquVrGDWW18oQAdaSjJkSfLo=\", false, function () {\n  return [useSelector, useDispatch, useHttp];\n});\n\n_c = HeroesList;\nexport default HeroesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeroesList\");","map":{"version":3,"sources":["/Users/ivan/Desktop/web/hero_admin_panel_template/src/components/heroesList/HeroesList.js"],"names":["useHttp","useEffect","useDispatch","useSelector","heroesFetching","heroesFetched","heroesFetchingError","HeroesListItem","Spinner","HeroesList","heroes","heroesLoadingStatus","state","dispatch","request","then","data","catch","on","renderHeroesList","arr","length","map","id","props","elements"],"mappings":";;;AAAA,SAAQA,OAAR,QAAsB,uBAAtB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,cAAT,EAAyBC,aAAzB,EAAwCC,mBAAxC,QAAmE,eAAnE;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,OAAP,MAAoB,oBAApB,C,CAEA;AACA;AACA;AACA;;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACrB,QAAM;AAACC,IAAAA,MAAD;AAASC,IAAAA;AAAT,MAAgCR,WAAW,CAACS,KAAK,IAAIA,KAAV,CAAjD;AACA,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAM;AAACY,IAAAA;AAAD,MAAYd,OAAO,EAAzB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZY,IAAAA,QAAQ,CAACT,cAAc,EAAf,CAAR;AACAU,IAAAA,OAAO,CAAC,8BAAD,CAAP,CACKC,IADL,CACUC,IAAI,IAAIH,QAAQ,CAACR,aAAa,CAACW,IAAD,CAAd,CAD1B,EAEKC,KAFL,CAEW,MAAMJ,QAAQ,CAACP,mBAAmB,EAApB,CAFzB,EAFY,CAMZ;AACH,GAPQ,EAON,EAPM,CAAT;AASAY,EAAAA,EAAE;;AAEF,MAAIP,mBAAmB,KAAK,SAA5B,EAAuC;AACnC,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACH,GAFD,MAEO,IAAIA,mBAAmB,KAAK,OAA5B,EAAqC;AACxC,wBAAO;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,QAAMQ,gBAAgB,GAAIC,GAAD,IAAS;AAC9B,QAAIA,GAAG,CAACC,MAAJ,KAAe,CAAnB,EAAsB;AAClB,0BAAO;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,WAAOD,GAAG,CAACE,GAAJ,CAAQ,CAAC;AAACC,MAAAA,EAAD;AAAK,SAAGC;AAAR,KAAD,KAAoB;AAC/B,0BAAO,QAAC,cAAD,OAA6BA;AAA7B,SAAqBD,EAArB;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFM,CAAP;AAGH,GARD;;AAUA,QAAME,QAAQ,GAAGN,gBAAgB,CAACT,MAAD,CAAjC;AACA,sBACI;AAAA,cACKe;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAtCD;;GAAMhB,U;UACoCN,W,EACrBD,W,EACCF,O;;;KAHhBS,U;AAwCN,eAAeA,UAAf","sourcesContent":["import {useHttp} from '../../hooks/http.hook';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { heroesFetching, heroesFetched, heroesFetchingError } from '../../actions';\nimport HeroesListItem from \"../heroesListItem/HeroesListItem\";\nimport Spinner from '../spinner/Spinner';\n\n// Задача для этого компонента:\n// При клике на \"крестик\" идет удаление персонажа из общего состояния\n// Усложненная задача:\n// Удаление идет и с json файла при помощи метода DELETE\n\nconst HeroesList = () => {\n    const {heroes, heroesLoadingStatus} = useSelector(state => state);\n    const dispatch = useDispatch();\n    const {request} = useHttp();\n\n    useEffect(() => {\n        dispatch(heroesFetching());\n        request(\"http://localhost:3001/heroes\")\n            .then(data => dispatch(heroesFetched(data)))\n            .catch(() => dispatch(heroesFetchingError()))\n\n        // eslint-disable-next-line\n    }, []);\n\n    on\n\n    if (heroesLoadingStatus === \"loading\") {\n        return <Spinner/>;\n    } else if (heroesLoadingStatus === \"error\") {\n        return <h5 className=\"text-center mt-5\">Ошибка загрузки</h5>\n    }\n\n    const renderHeroesList = (arr) => {\n        if (arr.length === 0) {\n            return <h5 className=\"text-center mt-5\">Героев пока нет</h5>\n        }\n\n        return arr.map(({id, ...props}) => {\n            return <HeroesListItem key={id} {...props}/>\n        })\n    }\n\n    const elements = renderHeroesList(heroes);\n    return (\n        <ul>\n            {elements}\n        </ul>\n    )\n}\n\nexport default HeroesList;"]},"metadata":{},"sourceType":"module"}